#!/bin/bash
# test_with_credentials.sh
# Script to run integration tests with real EPH Ember credentials
#
# Usage:
#   1. Copy this script: cp test_with_credentials.sh.example test_with_credentials.sh
#   2. Edit the script to add your real credentials
#   3. Run: ./test_with_credentials.sh

# IMPORTANT: Never commit real credentials to git!
# Add test_with_credentials.sh to your .gitignore

# Replace these with your actual EPH Ember credentials
export PYEPHEMBER_EMAIL="your-email@example.com"
export PYEPHEMBER_PASSWORD="your-password"

# Enable integration tests
export PYEPHEMBER_INTEGRATION_TESTS=1

echo "ğŸ” Running integration tests with real credentials..."
echo "ğŸ“§ Email: $PYEPHEMBER_EMAIL"
echo "ğŸ”’ Password: [HIDDEN]"
echo ""

# Run the integration tests
python3 -m pytest tests/test_integration.py -v

# Also test the example script
echo ""
echo "ğŸ§ª Testing example.py script..."
python3 example.py --email "$PYEPHEMBER_EMAIL" --password "$PYEPHEMBER_PASSWORD" --zone-name "heating"